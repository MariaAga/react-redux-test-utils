<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="./">
  <title data-ice="title">Manual | react-redux-test-utils</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Utils for testing react-redux applications using enzyme and jest snapshots"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="react-redux-test-utils"><meta property="twitter:description" content="Utils for testing react-redux applications using enzyme and jest snapshots"></head>
<body class="layout-container manual-root manual-index" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/sharvit/react-redux-test-utils"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/manage-your-code-folder-structure.html"><a href="manual/manage-your-code-folder-structure.html" data-ice="link">Manage your code folder structure</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/manage-your-code-folder-structure.html"><a href="manual/manage-your-code-folder-structure.html#folder-tree" data-ice="link">Folder tree</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/manage-your-code-folder-structure.html"><a href="manual/manage-your-code-folder-structure.html#the-main-unconnected-component" data-ice="link">The main unconnected component</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/manage-your-code-folder-structure.html"><a href="manual/manage-your-code-folder-structure.html#the-integration-file" data-ice="link">The integration file</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/manage-your-code-folder-structure.html"><a href="manual/manage-your-code-folder-structure.html#use-generators" data-ice="link">Use generators</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/unit-testing-components.html"><a href="manual/unit-testing-components.html" data-ice="link">Testing components</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/unit-testing-components.html"><a href="manual/unit-testing-components.html#component-example" data-ice="link">Component example</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/unit-testing-components.html"><a href="manual/unit-testing-components.html#unit-testing" data-ice="link">Unit testing</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/unit-testing-actions.html"><a href="manual/unit-testing-actions.html" data-ice="link">Testing actions</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/unit-testing-actions.html"><a href="manual/unit-testing-actions.html#testing-regular-actions" data-ice="link">Testing regular actions</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/unit-testing-actions.html"><a href="manual/unit-testing-actions.html#testing-thunk-async-actions" data-ice="link">Testing thunk async actions</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/unit-testing-reducers.html"><a href="manual/unit-testing-reducers.html" data-ice="link">Unit testing reducers</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/unit-testing-selectors.html"><a href="manual/unit-testing-selectors.html" data-ice="link">Unit testing selectors</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/unit-testing-selectors.html"><a href="manual/unit-testing-selectors.html#selectors-file" data-ice="link">Selectors file</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/unit-testing-selectors.html"><a href="manual/unit-testing-selectors.html#unit-testing-file" data-ice="link">Unit testing file</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/integration-testing.html"><a href="manual/integration-testing.html" data-ice="link">Integration testing</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/integration-testing.html"><a href="manual/integration-testing.html#integration-file" data-ice="link">Integration file</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/integration-testing.html"><a href="manual/integration-testing.html#integration-test-file" data-ice="link">Integration test file</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/contributing.html"><a href="manual/contributing.html" data-ice="link">Contributing</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/contributing.html"><a href="manual/contributing.html#code-of-conduct" data-ice="link">Code of Conduct</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/contributing.html"><a href="manual/contributing.html#project-setup" data-ice="link">Project setup</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/contributing.html"><a href="manual/contributing.html#build" data-ice="link">Build</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/contributing.html"><a href="manual/contributing.html#documentations" data-ice="link">Documentations</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/contributing.html"><a href="manual/contributing.html#committing-and-pushing-changes" data-ice="link">Committing and Pushing changes</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/contributing.html"><a href="manual/contributing.html#help-needed" data-ice="link">Help needed</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/code_of_conduct.html"><a href="manual/code_of_conduct.html" data-ice="link">Contributor Covenant Code of Conduct</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/code_of_conduct.html"><a href="manual/code_of_conduct.html#our-pledge" data-ice="link">Our Pledge</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/code_of_conduct.html"><a href="manual/code_of_conduct.html#our-standards" data-ice="link">Our Standards</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/code_of_conduct.html"><a href="manual/code_of_conduct.html#our-responsibilities" data-ice="link">Our Responsibilities</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/code_of_conduct.html"><a href="manual/code_of_conduct.html#scope" data-ice="link">Scope</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/code_of_conduct.html"><a href="manual/code_of_conduct.html#enforcement" data-ice="link">Enforcement</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/code_of_conduct.html"><a href="manual/code_of_conduct.html#attribution" data-ice="link">Attribution</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/roadmap.html"><a href="manual/roadmap.html" data-ice="link">Project Roadmap</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/roadmap.html"><a href="manual/roadmap.html#want-to-do" data-ice="link">Want to do</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/roadmap.html"><a href="manual/roadmap.html#might-do" data-ice="link">Might do</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/roadmap.html"><a href="manual/roadmap.html#won&#x2018;t-do" data-ice="link">Won&#x2018;t do</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown">
  <div class="manual-user-index" data-ice="manualUserIndex"><h1 id="react-redux-test-utils">react-redux-test-utils</h1><blockquote>
<p>Utils for testing react-redux applications using enzyme and jest snapshots</p>
</blockquote>
<p><a href="https://www.npmjs.com/package/react-redux-test-utils"><img src="https://img.shields.io/npm/v/react-redux-test-utils.svg?style=flat-square" alt="Package Version"></a>
<a href="https://github.com/semantic-release/semantic-release"><img src="https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg" alt="semantic-release"></a>
<a href="https://npm-stat.com/charts.html?package=react-redux-test-utils&amp;from=2016-04-01"><img src="https://img.shields.io/npm/dm/react-redux-test-utils.svg?style=flat-square" alt="Downloads Status"></a>
<a href="https://travis-ci.org/sharvit/react-redux-test-utils"><img src="https://img.shields.io/travis/sharvit/react-redux-test-utils/master.svg?style=flat-square" alt="Build Status: Linux"></a>
<a href="https://coveralls.io/github/sharvit/react-redux-test-utils?branch=master"><img src="https://coveralls.io/repos/github/sharvit/react-redux-test-utils/badge.svg?branch=master" alt="Coverage Status"></a>
<a href="http://makeapullrequest.com"><img src="https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square" alt="PRs Welcome"></a>
<a href="https://david-dm.org/sharvit/react-redux-test-utils"><img src="https://david-dm.org/sharvit/react-redux-test-utils/status.svg" alt="dependencies Status"></a>
<a href="https://david-dm.org/sharvit/react-redux-test-utils?type=dev"><img src="https://david-dm.org/sharvit/react-redux-test-utils/dev-status.svg" alt="devDependencies Status"></a>
<a href="https://github.com/prettier/prettier"><img src="https://img.shields.io/badge/code_style-prettier-ff69b4.svg?style=flat-square" alt="code style: prettier"></a>
<a href="http://opensource.org/licenses/MIT"><img src="https://img.shields.io/npm/l/stack-overflow-copy-paste.svg?style=flat-square" alt="MIT License"></a></p>
<h2 id="why">Why</h2><ol>
<li>It separates between unit-testing and integration-testing and gives you tools to write both.</li>
<li>It reduces the boilerplate.</li>
<li>It uses a data-driven approach for unit-testing so instead of writing test logic, you define objects that describe your tests.</li>
<li>It is very fast and easy to write tests.</li>
<li>It comes with enzyme and uses snapshots testing.</li>
</ol>
<h2 id="installation">Installation</h2><pre><code class="lang-sh"><code class="source-code prettyprint"># with npm
npm install --save-dev react-redux-test-utils

# with yarn
yarn add -D react-redux-test-utils</code>
</code></pre>
<h2 id="usage">Usage</h2><p><code>react-redux-test-utils</code> allow you to write unit-testing that look like this:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">/* UserProfile.test.js */
import { testComponentSnapshotsWithFixtures } from &apos;react-redux-test-utils&apos;;
import UserProfile from &apos;../UserProfile&apos;;

const fixtures = {
  &apos;should render UserProfile&apos;: {
    user: &apos;some-user&apos;,
  },
  &apos;should render UserProfile with avatar&apos;: {
    user: &apos;some-user&apos;,
    showAvatar: true,
  },
  &apos;should render UserProfile with posts and photos&apos;: {
    user: &apos;some-user&apos;,
    showPosts: true,
    showPhotos: true,
  },
};

describe(&apos;UserProfile - component&apos;, () =&gt;
  testComponentSnapshotsWithFixtures(UserProfile, fixtures));</code>
</code></pre>
<p>It also provide the <code>IntegrationTestHelper</code> that helps with writing integration-testing:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">/* __tests__/integration.test.js */
import React from &apos;react&apos;;
import { IntegrationTestHelper } from &apos;react-redux-test-utils&apos;;

import UserProfile, { reducers } from &apos;../index&apos;;

describe(&apos;UserProfile - Integration Test&apos;, () =&gt; {
  it(&apos;should flow&apos;, () =&gt; {
    const integrationTestHelper = new IntegrationTestHelper(reducers);

    const component = integrationTestHelper.mount(
      &lt;UserProfile user=&quot;some-user&quot; /&gt;
    );

    // The user-avatar should not be shown
    expect(component.exists(&apos;UserAvatar&apos;)).toEqual(false);
    integrationTestHelper.takeStoreSnapshot(&apos;initial state&apos;);

    // trigger checkbox change
    component
      .find(&apos;input#show-avatar-toggler&apos;)
      .simulate(&apos;change&apos;, { target: { checked: true } });

    // The user-avatar should be shown now
    expect(component.exists(&apos;UserAvatar&apos;)).toEqual(true);
    integrationTestHelper.takeStoreAndLastActionSnapshot(
      &apos;Update to show the user-avatar&apos;
    );
  });
});</code>
</code></pre>
<h2 id="documentations">Documentations</h2><ol>
<li><a href="./manual/manage-your-code-folder-structure.html">Manage your folder structure.</a></li>
<li><a href="./manual/unit-testing-components.html">Unit-testing components.</a></li>
<li><a href="./manual/unit-testing-actions.html">Unit-testing redux actions.</a></li>
<li><a href="./manual/unit-testing-reducers.html">Unit-testing redux reducers.</a></li>
<li><a href="./manual/unit-testing-selectors.html">Unit-testing redux selectors.</a></li>
<li><a href="./manual/integration-testing.html">Integration-testing.</a></li>
</ol>
<h2 id="related">Related</h2><ol>
<li><a href="https://github.com/glekner/generator-react-domain">generator-react-domain</a> will help you to generate react components with domain-driven file structuring and with tests file that uses the <code>react-redux-test-utils</code>.</li>
</ol>
<h2 id="license">License</h2><p>MIT &#xA9; <a href="https://sharvit.github.io">Avi Sharvit</a></p>
</div>

  

  <div class="manual-cards">
    
  <div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Manage your code folder structure</h1><p>Before we can start unit testing our components,
we need to adopt an approach when we export 2 versions of the same component,
one connected to redux and one unconnected.</p><p>With this approach, we will manage our code folder structure by domain level, and we will create small independent and connected mini-packages.
We will write integration-testing with full redux-flow for our connected component/min-package, and unit-testing for unconnected components, actions, reducers, selectors, helpers, and co...</p><h2>Folder tree</h2><pre><code><code class="source-code prettyprint">src
&#x251C;&#x2500;&#x2500; components
&#x2502;   &#x2514;&#x2500;&#x2500; UserProfile
&#x2502;       &#x251C;&#x2500;&#x2500; index.js // integration-file/connected-component
&#x2502;       &#x251C;&#x2500;&#x2500; UserProfile.js // main component
&#x2502;       &#x251C;&#x2500;&#x2500; UserProfileActions.js
&#x2502;       &#x251C;&#x2500;&#x2500; UserProfileConstants.js
&#x2502;       &#x251C;&#x2500;&#x2500; UserProfileReducer.js
&#x2502;       &#x251C;&#x2500;&#x2500; UserProfileSelectors.js
&#x2502;       &#x251C;&#x2500;&#x2500; __tests__ // test files
&#x2502;       &#x2502;   &#x251C;&#x2500;&#x2500; integration.test.js // integration-test
&#x2502;       &#x2502;   &#x251C;&#x2500;&#x2500; UserProfile.test.js
&#x2502;       &#x2502;   &#x251C;&#x2500;&#x2500; UserProfileActions.test.js
&#x2502;       &#x2502;   &#x251C;&#x2500;&#x2500; UserProfileReducer.test.js
&#x2502;       &#x2502;   &#x2514;&#x2500;&#x2500; UserProfileSelectors.test.js
&#x2502;       &#x2514;&#x2500;&#x2500; components // inner components
&#x2502;           &#x251C;&#x2500;&#x2500; UserAvatar.js
&#x2502;           &#x251C;&#x2500;&#x2500; UserAvatar.test.js
&#x2502;           &#x251C;&#x2500;&#x2500; UserPosts.js
&#x2502;           &#x2514;&#x2500;&#x2500; UserPosts.test.js
&#x2514;&#x2500;&#x2500; store
    &#x2514;&#x2500;&#x2500; index.js</code>
./manual/</code></pre><h2>The main unconnected component</h2><p><a href="./manual/unit-testing-components.html">Learn how to write unit-testing for your unconnected components.</a></p><pre><code class="lang-js"><code class="source-code prettyprint">/* UserProfile.js */
import React from &apos;react&apos;;

import UserAvatar from &apos;./components/UserAvatar&apos;;
import UserDetailsBox from &apos;./components/UserDetailsBox&apos;;
import UserPhotos from &apos;./components/UserPhotos&apos;;
import UserPosts from &apos;./components/UserPosts&apos;;

const UserProfile = ({
  user,
  showAvatar,
  showPosts,
  showPhotos,
  updateShowAvatar,
  updateShowPhotos,
  updateShowPosts,
}) =&gt; (
  &lt;div className=&quot;user-profile&quot;&gt;
    &lt;UserDetailsBox user={user} /&gt;
    {showAvatar &amp;&amp; &lt;UserAvatar user={user} size=&quot;sm&quot; /&gt;}
    {showPosts &amp;&amp; &lt;UserPhotos user={user} count={5} sort=&quot;DESC&quot; /&gt;}
    {showPhotos &amp;&amp; &lt;UserPosts user={user} count={5} sort=&quot;DESC&quot; /&gt;}
    &lt;input
      id=&quot;show-avatar-toggler&quot;
      type=&quot;checkbox&quot;
      checked={showAvatar}
      onChange={e =&gt; updateShowAvatar(e.target.checked)}
    /&gt;
    &lt;input
      id=&quot;show-photos-toggler&quot;
      type=&quot;checkbox&quot;
      checked={showPhotos}
      onChange={e =&gt; updateShowPhotos(e.target.checked)}
    /&gt;
    &lt;input
      id=&quot;show-posts-toggler&quot;
      type=&quot;checkbox&quot;
      checked={showPosts}
      onChange={e =&gt; updateShowPosts(e.target.checked)}
    /&gt;
  &lt;/div&gt;
);

export default UserProfile;</code>
./manual/</code></pre><h2>The integration file</h2><p><a href="./manual/integration-testing.html">Learn how to write integration-testing for your connected components.</a></p><pre><code class="lang-js"><code class="source-code prettyprint">/* index.js */
import { bindActionCreators } from &apos;redux&apos;;
import { connect } from &apos;react-redux&apos;;

import * as actions from &apos;./UserProfileActions&apos;;
import reducer from &apos;./UserProfileReducer&apos;;
import {
  selectShowAvatar,
  selectShowPosts,
  selectShowPhotos,
} from &apos;./UserProfileSelectors&apos;;

import UserProfile from &apos;./UserProfile&apos;;

// map state to props
const mapStateToProps = state =&gt; ({
  showAvatar: selectShowAvatar(state),
  showPosts: selectShowPosts(state),
  showPhotos: selectShowPhotos(state),
});

// map action dispatchers to props
const mapDispatchToProps = dispatch =&gt; bindActionCreators(actions, dispatch);

// export reducers
export const reducers = { userProfile: reducer };

// export connected component
export default connect(
  mapStateToProps,
  mapDispatchToProps
)(UserProfile);</code>
./manual/</code></pre><h2>Use generators</h2><p><a href="https://github.com/glekner/generator-react-domain">generator-react-domain</a> is a recommended generator that will help you to generate react components with domain-driven file structuring and with tests file that uses the <code>react-redux-test-utils</code>.</p><p>Next: <a href="./manual/unit-testing-components.html">Learn how to write unit-testing for your unconnected components -&gt;</a></p></div>
        <a data-ice="link" href="manual/manage-your-code-folder-structure.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Testing components</h1><p>Before we can start unit testing our components,
we need to adopt an approach when we export 2 versions of the same component,
./manual/one connected to redux and one unconnected.</p><p><a href="./manual/manage-your-code-folder-structure.html">Learn how to manage your code folder structure</a></p><h2>Component example</h2><pre><code class="lang-js"><code class="source-code prettyprint">/* UserProfile.js */
const UserProfile = ({
  user,
  showAvatar,
  showPosts,
  showPhotos,
  updateShowAvatar,
  updateShowPhotos,
  updateShowPosts,
}) =&gt; (
  &lt;div className=&quot;user-profile&quot;&gt;
    &lt;UserDetailsBox user={user} /&gt;
    {showAvatar &amp;&amp; &lt;UserAvatar user={user} size=&quot;sm&quot; /&gt;}
    {showPosts &amp;&amp; &lt;UserPhotos user={user} count={5} sort=&quot;DESC&quot; /&gt;}
    {showPhotos &amp;&amp; &lt;UserPosts user={user} count={5} sort=&quot;DESC&quot; /&gt;}
    &lt;input
      id=&quot;show-avatar-toggler&quot;
      type=&quot;checkbox&quot;
      checked={showAvatar}
      onChange={e =&gt; updateShowAvatar(e.target.checked)}
    /&gt;
    &lt;input
      id=&quot;show-photos-toggler&quot;
      type=&quot;checkbox&quot;
      checked={showPhotos}
      onChange={e =&gt; updateShowPhotos(e.target.checked)}
    /&gt;
    &lt;input
      id=&quot;show-posts-toggler&quot;
      type=&quot;checkbox&quot;
      checked={showPosts}
      onChange={e =&gt; updateShowPosts(e.target.checked)}
    /&gt;
  &lt;/div&gt;
);</code>
</code></pre><h2>Unit testing</h2><pre><code class="lang-js"><code class="source-code prettyprint">/* UserProfile.test.js */
import { testComponentSnapshotsWithFixtures } from &apos;react-redux-test-utils&apos;;
import UserProfile from &apos;../UserProfile&apos;;

const fixtures = {
  &apos;should render UserProfile&apos;: {
    user: &apos;some-user&apos;,
  },
  &apos;should render UserProfile with avatar&apos;: {
    user: &apos;some-user&apos;,
    showAvatar: true,
  },
  &apos;should render UserProfile with posts and photos&apos;: {
    user: &apos;some-user&apos;,
    showPosts: true,
    showPhotos: true,
  },
};

describe(&apos;UserProfile - component&apos;, () =&gt;
  testComponentSnapshotsWithFixtures(UserProfile, fixtures));</code>
./manual/</code></pre><p>Next: <a href="./manual/unit-testing-actions.html">Learn how to write unit-testing for your actions -&gt;</a></p></div>
        <a data-ice="link" href="manual/unit-testing-components.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Testing actions</h1><h2>Testing regular actions</h2><p>Regular actions are simple actions that return a single object.
Assuming we have this <code>UserProfileActions.js</code>:</p><pre><code class="lang-js"><code class="source-code prettyprint">/* UserProfileActions.js */
export const updateShowAvatar = showAvatar =&gt; ({
  type: USER_PROFILE_UPDATE_AVATAR,
  payload: showAvatar,
});

export const updateShowPosts = showPosts =&gt; ({
  type: USER_PROFILE_UPDATE_POSTS,
  payload: showPosts,
});

export const updateShowPhotos = showPhotos =&gt; ({
  type: USER_PROFILE_UPDATE_PHOTOS,
  payload: showPhotos,
});</code>
</code></pre><p>Testing this file should be as easy as running those functions and saving the results as a snapshot.
<code>testActionSnapshotWithFixtures</code> will run over the fixtures and will save each results snapshot.</p><pre><code class="lang-js"><code class="source-code prettyprint">/* UserProfileActions.test.js */
import { testActionSnapshotWithFixtures } from &apos;react-redux-test-utils&apos;;
import {
  updateShowAvatar,
  updateShowPosts,
  updateShowPhotos,
} from &apos;../UserProfileActions&apos;;

const fixtures = {
  &apos;should update-show-avatar&apos;: () =&gt; updateShowAvatar(true),
  &apos;should update-show-posts&apos;: () =&gt; updateShowPosts(true),
  &apos;should update-show-photos&apos;: () =&gt; updateShowPhotos(true),
};

describe(&apos;UserProfile - Actions&apos;, () =&gt;
  testActionSnapshotWithFixtures(fixtures));</code>
</code></pre><p>The end results will be similar to:</p><pre><code class="lang-js"><code class="source-code prettyprint">import { testActionSnapshotWithFixtures } from &apos;react-redux-test-utils&apos;;
import {
  updateShowAvatar,
  updateShowPosts,
  updateShowPhotos,
} from &apos;../UserProfileActions&apos;;

describe(&apos;UserProfile - Actions&apos;, () =&gt; {
  test(&apos;should update-show-avatar&apos;, () =&gt; {
    const results = updateShowAvatar(true);
    expect(results).toMatchSnapshot();
  });
  test(&apos;should update-show-posts&apos;, () =&gt; {
    const results = updateShowPosts(true);
    expect(results).toMatchSnapshot();
  });
  test(&apos;should update-show-photos&apos;, () =&gt; {
    const results = updateShowPhotos(true);
    expect(results).toMatchSnapshot();
  });
});</code>
</code></pre><h2>Testing thunk async actions</h2><p>Async thunk doesn&apos;t return a simple object. Instead, they return an async function that receives a dispatch function as an argument.
Assuming we have the following action:</p><pre><code class="lang-js"><code class="source-code prettyprint">import api from &apos;../common/api&apos;;

export const login = ({ username, password }) =&gt; async dispatch =&gt; {
  try {
    dispatch({
      type: &apos;LOGIN_REQUEST&apos;,
      payload: { username, password },
    });

    const results = await api.post(&apos;/login&apos;, { username, password });

    dispatch({
      type: &apos;LOGIN_SUCCEED&apos;,
      payload: { results },
    });
  } catch (error) {
    dispatch({
      type: &apos;LOGIN_ERROR&apos;,
      payload: { error },
    });
  }
};</code>
</code></pre><pre><code class="lang-js"><code class="source-code prettyprint">import { testActionSnapshotWithFixtures } from &apos;react-redux-test-utils&apos;;
import api from &apos;../common/api&apos;;
import { login } from &apos;./loginActions&apos;;

jest.mock(&apos;../common/api&apos;);

describe(&apos;Login Actions&apos;, () =&gt; {
  const correctLogin = { username: &apos;some-username&apos;, password: &apos;some-password&apos; };
  const wrongLogin = {
    username: &apos;some-wrong-username&apos;,
    password: &apos;some-wrong-password&apos;,
  };

  api.login.mockImplementation(async credentials =&gt;
    credentials === correctLogin
      ? &apos;succees&apos;
      : throw new Error(&apos;wrong email and password&apos;)
  );

  testActionSnapshotWithFixtures({
    &apos;should login and succeed&apos;: login(correctLogin),
    &apos;should login and fail&apos;: login(wrongLogin),
  });
});</code>
./manual/</code></pre><p>Next: <a href="./manual/unit-testing-reducers.html">Learn how to write unit-testing for your reducers -&gt;</a></p></div>
        <a data-ice="link" href="manual/unit-testing-actions.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Unit testing reducers</h1><pre><code class="lang-js"><code class="source-code prettyprint">/* UserProfileReducer.js */
const initialState = Immutable({
  showAvatar: false,
  showPosts: false,
  showPhotos: false,
});

export default (state = initialState, action) =&gt; {
  const { payload } = action;

  switch (action.type) {
    case USER_PROFILE_UPDATE_AVATAR:
      return state.set(&apos;showAvatar&apos;, payload);
    case USER_PROFILE_UPDATE_POSTS:
      return state.set(&apos;showPosts&apos;, payload);
    case USER_PROFILE_UPDATE_PHOTOS:
      return state.set(&apos;showPhotos&apos;, payload);
    default:
      return state;
  }
};</code>
</code></pre><pre><code class="lang-js"><code class="source-code prettyprint">/* UserProfileReducer.test.js */
import { testSelectorsSnapshotWithFixtures } from &apos;react-redux-test-utils&apos;;
import {
  selectShowAvatar,
  selectShowPosts,
  selectShowPhotos,
} from &apos;../UserProfileSelectors&apos;;

const state = {
  userProfile: {
    showAvatar: &apos;showAvatar&apos;,
    showPosts: &apos;showPosts&apos;,
    showPhotos: &apos;showPhotos&apos;,
  },
};

const fixtures = {
  &apos;should select show-avatar&apos;: () =&gt; selectShowAvatar(state),
  &apos;should select show-posts&apos;: () =&gt; selectShowPosts(state),
  &apos;should select show-photos&apos;: () =&gt; selectShowPhotos(state),
};

describe(&apos;UserProfile - Selectors&apos;, () =&gt;
  testSelectorsSnapshotWithFixtures(fixtures));</code>
./manual/</code></pre><p>Next: <a href="./manual/unit-testing-selectors.html">Learn how to write unit-testing for your selectors -&gt;</a></p></div>
        <a data-ice="link" href="manual/unit-testing-reducers.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Unit testing selectors</h1><h2>Selectors file</h2><pre><code class="lang-js"><code class="source-code prettyprint">/* UserProfileSelectors.js */
const selectState = state =&gt; state.userProfile;

export const selectShowAvatar = state =&gt; selectState(state).showAvatar;
export const selectShowPosts = state =&gt; selectState(state).showPosts;
export const selectShowPhotos = state =&gt; selectState(state).showPhotos;</code>
</code></pre><h2>Unit testing file</h2><pre><code class="lang-js"><code class="source-code prettyprint">/* UserProfileSelectors.test.js */
import { testSelectorsSnapshotWithFixtures } from &apos;react-redux-test-utils&apos;;
import {
  selectShowAvatar,
  selectShowPosts,
  selectShowPhotos,
} from &apos;../UserProfileSelectors&apos;;

const state = {
  userProfile: {
    showAvatar: &apos;showAvatar&apos;,
    showPosts: &apos;showPosts&apos;,
    showPhotos: &apos;showPhotos&apos;,
  },
};

const fixtures = {
  &apos;should select show-avatar&apos;: () =&gt; selectShowAvatar(state),
  &apos;should select show-posts&apos;: () =&gt; selectShowPosts(state),
  &apos;should select show-photos&apos;: () =&gt; selectShowPhotos(state),
};

describe(&apos;UserProfile - Selectors&apos;, () =&gt;
  testSelectorsSnapshotWithFixtures(fixtures));</code>
./manual/</code></pre><p>Next: <a href="./manual/integration-testing.html">Learn how to write integration-testing -&gt;</a></p></div>
        <a data-ice="link" href="manual/unit-testing-selectors.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Integration testing</h1><p>Integration testing should test the connected-component while activating full redux lifecycle.</p><h2>Integration file</h2><pre><code class="lang-js"><code class="source-code prettyprint">/* index.js */
import { bindActionCreators } from &apos;redux&apos;;
import { connect } from &apos;react-redux&apos;;

import * as actions from &apos;./UserProfileActions&apos;;
import reducer from &apos;./UserProfileReducer&apos;;
import {
  selectShowAvatar,
  selectShowPosts,
  selectShowPhotos,
} from &apos;./UserProfileSelectors&apos;;

import UserProfile from &apos;./UserProfile&apos;;

// map state to props
const mapStateToProps = state =&gt; ({
  showAvatar: selectShowAvatar(state),
  showPosts: selectShowPosts(state),
  showPhotos: selectShowPhotos(state),
});

// map action dispatchers to props
const mapDispatchToProps = dispatch =&gt; bindActionCreators(actions, dispatch);

// export reducers
export const reducers = { userProfile: reducer };

// export connected component
export default connect(
  mapStateToProps,
  mapDispatchToProps
)(UserProfile);</code>
</code></pre><h2>Integration test file</h2><pre><code class="lang-js"><code class="source-code prettyprint">/* __tests__/integration.test.js */
import React from &apos;react&apos;;
import { IntegrationTestHelper } from &apos;react-redux-test-utils&apos;;

import UserProfile, { reducers } from &apos;../index&apos;;

describe(&apos;UserProfile - Integration Test&apos;, () =&gt; {
  it(&apos;should flow&apos;, () =&gt; {
    const integrationTestHelper = new IntegrationTestHelper(reducers);

    const component = integrationTestHelper.mount(
      &lt;UserProfile user=&quot;some-user&quot; /&gt;
    );

    // The user-avatar should not be shown
    expect(component.exists(&apos;UserAvatar&apos;)).toEqual(false);
    integrationTestHelper.takeStoreSnapshot(&apos;initial state&apos;);

    // trigger checkbox change
    component
      .find(&apos;input#show-avatar-toggler&apos;)
      .simulate(&apos;change&apos;, { target: { checked: true } });

    // The user-avatar should be shown now
    expect(component.exists(&apos;UserAvatar&apos;)).toEqual(true);
    integrationTestHelper.takeStoreAndLastActionSnapshot(
      &apos;Update to show the user-avatar&apos;
    );
  });
});</code>
</code></pre></div>
        <a data-ice="link" href="manual/integration-testing.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Contributing</h1><p>Contributions are always welcome, no matter how large or small.</p><p><strong>Working on your first Pull Request?</strong> You can learn how from this <em>free</em> series <a href="https://egghead.io/series/how-to-contribute-to-an-open-source-project-on-github">How to Contribute to an Open Source Project on GitHub</a></p><h2>Code of Conduct</h2><p>By participating, you are expected to uphold this <a href="./manual/./manual/code_of_conduct.html">Contributor Covenant Code of Conduct</a>. Please report unacceptable behavior to <a href="./manual/mailto:sharvita@gmail.com">sharvita@gmail.com</a>.</p><h2>Project setup</h2><p>First, <a href="https://guides.github.com/activities/forking">fork</a> then clone the repo:</p><pre><code class="lang-sh"><code class="source-code prettyprint">git clone https://github.com/your-username/react-redux-test-utils
cd react-redux-test-utils
git remote add upstream https://github.com/sharvit/react-redux-test-utils</code>
</code></pre><p>Install dependencies:</p><pre><code class="lang-sh"><code class="source-code prettyprint">yarn</code>
</code></pre><p>Run test suits to validate the project is working:</p><pre><code class="lang-sh"><code class="source-code prettyprint">yarn test</code>
</code></pre><p>Run linter to validate the project code:</p><pre><code class="lang-sh"><code class="source-code prettyprint">yarn lint
# to fix linting errors
yarn lint --fix
# lint your last committed message
yarn lint:commit</code>
</code></pre><h2>Build</h2><p>Build src with babel:</p><pre><code><code class="source-code prettyprint">yarn build</code>
</code></pre><h2>Documentations</h2><p>Build documentation with esdocs to <code>./htmldocs</code></p><pre><code><code class="source-code prettyprint">yarn build:docs</code>
</code></pre><p>To develop docs, you can watch and build automatically:</p><pre><code><code class="source-code prettyprint">yarn build:docs:dev</code>
</code></pre><h2>Committing and Pushing changes</h2><p>Create a branch and start hacking:</p><pre><code class="lang-sh"><code class="source-code prettyprint">git checkout -b my-branch</code>
./manual/</code></pre><p>Commit and push your changes:</p><p><code>generator-node.htmll</code> uses <a href="https://github.com/commitizen/cz-cli">commitizen</a> to create commit messages so <a href="https://github.com/semantic-release/semantic-release">semantic-release</a> can automatically create releases.</p><pre><code class="lang-sh"><code class="source-code prettyprint">git add .

yarn commit
# answer the questions

git push origin my-branch</code>
./manual/</code></pre><p>Open this project on <a href="https://github.com/sharvit/generator-node.html./manual/l">GitHub</a>, then click &#x201C;Compare &amp; pull request&#x201D;.</p><h2>Help needed</h2><p>Please checkout the <a href="./manual/./manual/roadmap.html"><code>roadmap.html</code></a> and the open issues.</p><p>Also, please watch the repo and respond to questions/bug reports/feature requests, Thanks!</p></div>
        <a data-ice="link" href="manual/contributing.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Contributor Covenant Code of Conduct</h1><h2>Our Pledge</h2><p>In the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, gender identity and expression, level of experience, nationality, personal appearance, race, religion, or sexual identity and orientation.</p><h2>Our Standards</h2><p>Examples of behavior that contributes to creating a positive environment include:</p><ul>
<li>Using welcoming and inclusive language</li>
<li>Being respectful of differing viewpoints and experiences</li>
<li>Gracefully accepting constructive criticism</li>
<li>Focusing on what is best for the community</li>
<li>Showing empathy towards other community members</li>
</ul><p>Examples of unacceptable behavior by participants include:</p><ul>
<li>The use of sexualized language or imagery and unwelcome sexual attention or advances</li>
<li>Trolling, insulting/derogatory comments, and personal or political attacks</li>
<li>Public or private harassment</li>
<li>Publishing others&#x2018; private information, such as a physical or electronic address, without explicit permission</li>
<li>Other conduct which could reasonably be considered inappropriate in a professional setting</li>
</ul><h2>Our Responsibilities</h2><p>Project maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior.</p><p>Project maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful.</p><h2>Scope</h2><p>This Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers.</p><h2>Enforcement</h2><p>Instances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at <a href="./manual/mailto:sharvita@gmail.com">sharvita@gmail.com</a>. All complaints will be reviewed and investigated and will result in a response that is deemed necessary and appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately.</p><p>Project maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project&#x2018;s leadership.</p><h2>Attribution</h2><p>This Code of Conduct is adapted from the <a href="http://contributor-covenant.org">Contributor Covenant</a>, version 1.4, available at <a href="http://contributor-covenant.org/version/1/4/">http://contributor-covenant.org/version/1/4</a></p></div>
        <a data-ice="link" href="manual/code_of_conduct.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
./manual/        <div data-ice="card"><h1>Project Roadmap</h1><p>This is where we&#x2018;ll define a few things about the library&#x2018;s goals.</p><p>We haven&#x2018;t filled this out yet though. Care to help? See <a href="./manual/contributing.html./manual/"><code>contributing.html</code></a></p><h2>Want to do</h2><h2>Might do</h2><h2>Won&#x2018;t do</h2></div>
        <a data-ice="link" href="manual/roadmap.html"></a>
      </div>
    </div>
</div>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
